# 🔐 Gated Page Scraper

**会員制ページ（サンプルHTML）** を想定し、GUIログイン（Selenium）→ Cookie を引き継いで Playwright で各ページの指標テキストを取得、**SQLite** に保存する学習用スクリプトです。  
実在の企業名・サービス名・ログイン情報は一切含みません（ポートフォリオ用途）。

---

## 🔧 概要
- Selenium(GUI)でログインフォームに**環境変数**の認証情報を入力（ワンタイム等は人手）
- Enter 押下で Selenium を自動終了 → 認証済み Cookie を Playwright に移管
- 指標テキスト（例：売上成長・営業利益成長・ROE 等）を抽出し、SQLite(`market_data.db`)へ保存
- 対象URLは `consensus_url` テーブル（例：`link_c`）から取得（公開サンプル前提）

---

## 🧩 主な機能
- ✔ GUI ログイン → ヘッドレス収集の分離（安定・軽量）
- ✔ 画像/フォント遮断・QPS制御・小並列・指数バックオフで **polite** にアクセス
- ✔ WAL + バッチコミットで DB 書き込みを最適化
- ✔ `--mode missing` で未取得のみを再取得

---

## ⚠️ 注意事項・免責
- 本リポジトリは **学習・ポートフォリオ** 用のサンプルです。実在するメディア/金融サイト/会員サイト/ログイン自動化を対象としません。  
- 多くのサイトは **スクレイピングや自動取得・ログイン自動化を禁止/制限** しています。第三者サイトへの適用は禁止し、**利用規約・robots.txt** を必ず遵守してください。
- サイト構造が変わるとスクリプトは動作しなくなります。
- 本コードの使用により生じたいかなる損害についても、作者は責任を負いません。
